<body class="h-screen bg-primary-light dark:bg-primary text-white " >
<!--menu button-->
<div class="flex flex-wrap justify-start p-3 mb-10">
    <svg xmlns="http://www.w3.org/2000/svg" class="bg-secondary-light dark:bg-secondary p-1 rounded-xl" width="45"
        height="45" viewBox="0 0 16 16">
        <path fill="none" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
            d="M2.75 12.25h10.5m-10.5-4h10.5m-10.5-4h10.5" />
    </svg>
</div>

<!--Title-->
<div class="text-center mb-6" [class.hidden]="requestTutor">
    <button (click)="requestingTutor()" (click)="toggleRequestMod()" class="bg-secondary-light dark:bg-secondary px-4 py-2 rounded-lg text-white shadow-lg hover:bg-tertiary dark:hover:bg-tertiary-light">
        Aanvragen bijles
    </button>
</div>

<!--Request From-->
@if(isRequestMod) {
    <div class="flex flex-col items-center space-y-4">
        <div class="flex items-center space-x-4 w-3/4 bg-secondary-light dark:bg-secondary px-4 py-3 rounded-lg shadow-lg">
            <select [(ngModel)]="selectedSubject" class="flex-1 bg-secondary-light dark:bg-secondary text-white text-center focus:outline-none">
                <option value="" disabled selected>Vak</option>
                @for(course of courses(); track course) {
                    <option [value]="course.name">{{course.name}}</option>
                }
            </select>
            <button (click)="requestingTutor()"  (click)="submitRequest()" class="bg-accent-green-light dark:bg-accent-green px-4 py-2 rounded-lg text-white hover:bg-accent-green dark:hover:bg-accent-green-light">
                Aanvragen
            </button>
            <button (click)="requestingTutor()" (click)="canncelRequest()" class="bg-accent-red-light dark:bg-accent-red px-4 py-2 rounded-lg text-white hover:bg-accent-red dark:hover:bg-accent-red-light">
                Annuleren
            </button>
        </div>
    </div>
}

<!--Request list-->
@if(!isRequestMod) {
    <div class="flex flex-col items-center space-y-4">
        @for(group of groups; track group.id) {
            <div class="flex items-center space-x-4 w-3/4 px-4 py-3">
                <div class="flex-1 p-2 text-center bg-secondary-light dark:bg-secondary shadow-lg rounded-xl"> {{group.name}}</div>
                <button (click)="viewCalendar(group.id)" [class.hidden]="groupVisibility[group.id].isHidden">
                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"/>
                </svg>
                </button>
                <button (click)="acceptTutee(group.id)" class="bg-accent-green-light dark:bg-accent-green px-4 py-2 rounded-lg text-white hover:bg-accent-green dark:hover:bg-accent-green-light" [class.hidden]="groupVisibility[group.id].isVisible">
                    Accepteren
                </button>
                <button class="bg-accent-red-light dark:bg-accent-red px-4 py-2 rounded-lg text-white hover:bg-accent-red dark:hover:bg-accent-red-light" [class.hidden]="groupVisibility[group.id].isVisible">
                    Weiger
                </button>
            </div>
            <div class="w-1/3" [class.hidden]="calendar[group.id].hidden">
                <div>
                    <full-calendar
                    *ngIf="calendarOptions"
                    #fullcalendar
                    [options]="calendarOptions">
                        <ng-template #eventContent let-arg>
                            <b>{{ arg.event.title }}</b> - {{ arg.event.start.getDate() }}
                        </ng-template>
                    </full-calendar>
                </div>
                <div class="flex flex-wrap justify-center">
                    <button (click)="saveTutoringDate(group.id)" class="m-1 p-1 w-1/3 bg-accent-green-light dark:bg-accent-green rounded-xl">Opslaan</button>
                    <button (click)="cancelDate(group.id)" class="m-1 p-1 w-1/3 bg-accent-red-light dark:bg-accent-red rounded-xl">Annuleren</button>
                </div>
            </div>
        }
    </div>
}

</body>
